{"version":3,"file":"tryit.es5.js","sources":["../src/tryit.ts"],"sourcesContent":["export function tryit<T, U = Error>(func: (() => T)): [T, U];\r\nexport function tryit<T, U = Error>(func: (() => Promise<T>)): Promise<[T, U]>;\r\nexport function tryit<T, U = Error>(promise: Promise<T>): Promise<[T, U]>;\r\n\r\nexport function tryit<T, U = Error>(promiseOrFunction: unknown): unknown {\r\n  if (promiseOrFunction instanceof Promise) {\r\n    return promiseOrFunction\r\n      .then<[T, null]>(data => [data, null])\r\n      .catch<[undefined, U]>((err: any) => [undefined, err])\r\n  }\r\n  else if (promiseOrFunction instanceof Function) {\r\n    try {\r\n      const result = promiseOrFunction()\r\n      if (result instanceof Promise) {\r\n        return tryit(result)\r\n      }\r\n      return [result, null]\r\n    } catch (err: any) {\r\n      return [undefined, err]\r\n    }\r\n  }\r\n  else {\r\n    return [undefined, null]\r\n  }\r\n}\r\n\r\nexport default tryit"],"names":[],"mappings":"AAIM,SAAU,KAAK,CAAe,iBAA0B,EAAA;IAC5D,IAAI,iBAAiB,YAAY,OAAO,EAAE;AACxC,QAAA,OAAO,iBAAiB;AACrB,aAAA,IAAI,CAAY,UAAA,IAAI,EAAA,EAAI,OAAA,CAAC,IAAI,EAAE,IAAI,CAAC,CAAZ,EAAY,CAAC;AACrC,aAAA,KAAK,CAAiB,UAAC,GAAQ,EAAA,EAAK,OAAA,CAAC,SAAS,EAAE,GAAG,CAAC,CAAhB,EAAgB,CAAC,CAAA;AACzD,KAAA;SACI,IAAI,iBAAiB,YAAY,QAAQ,EAAE;QAC9C,IAAI;AACF,YAAA,IAAM,MAAM,GAAG,iBAAiB,EAAE,CAAA;YAClC,IAAI,MAAM,YAAY,OAAO,EAAE;AAC7B,gBAAA,OAAO,KAAK,CAAC,MAAM,CAAC,CAAA;AACrB,aAAA;AACD,YAAA,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;AACtB,SAAA;AAAC,QAAA,OAAO,GAAQ,EAAE;AACjB,YAAA,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAA;AACxB,SAAA;AACF,KAAA;AACI,SAAA;AACH,QAAA,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAA;AACzB,KAAA;AACH;;;;"}