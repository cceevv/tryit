{"version":3,"file":"tryit.umd.js","sources":["../src/tryit.ts"],"sourcesContent":["export function tryit<T, U = Error>(func: (() => T)): [T, U];\r\nexport function tryit<T, U = Error>(func: (() => Promise<T>)): Promise<[T, U]>;\r\nexport function tryit<T, U = Error>(promise: Promise<T>): Promise<[T, U]>;\r\n\r\nexport function tryit<T, U = Error>(promiseOrFunction: unknown): unknown {\r\n  if (promiseOrFunction instanceof Promise) {\r\n    return promiseOrFunction\r\n      .then<[T, null]>(data => [data, null])\r\n      .catch<[undefined, U]>((err: any) => [undefined, err])\r\n  }\r\n  else if (promiseOrFunction instanceof Function) {\r\n    try {\r\n      const result = promiseOrFunction()\r\n      if (result instanceof Promise) {\r\n        return tryit(result)\r\n      }\r\n      return [result, null]\r\n    } catch (err: any) {\r\n      return [undefined, err]\r\n    }\r\n  }\r\n  else {\r\n    return [undefined, null]\r\n  }\r\n}\r\n\r\nexport default tryit"],"names":[],"mappings":";;;;;;IAIM,SAAU,KAAK,CAAe,iBAA0B,EAAA;QAC5D,IAAI,iBAAiB,YAAY,OAAO,EAAE;IACxC,QAAA,OAAO,iBAAiB;IACrB,aAAA,IAAI,CAAY,UAAA,IAAI,EAAA,EAAI,OAAA,CAAC,IAAI,EAAE,IAAI,CAAC,CAAZ,EAAY,CAAC;IACrC,aAAA,KAAK,CAAiB,UAAC,GAAQ,EAAA,EAAK,OAAA,CAAC,SAAS,EAAE,GAAG,CAAC,CAAhB,EAAgB,CAAC,CAAA;IACzD,KAAA;aACI,IAAI,iBAAiB,YAAY,QAAQ,EAAE;YAC9C,IAAI;IACF,YAAA,IAAM,MAAM,GAAG,iBAAiB,EAAE,CAAA;gBAClC,IAAI,MAAM,YAAY,OAAO,EAAE;IAC7B,gBAAA,OAAO,KAAK,CAAC,MAAM,CAAC,CAAA;IACrB,aAAA;IACD,YAAA,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;IACtB,SAAA;IAAC,QAAA,OAAO,GAAQ,EAAE;IACjB,YAAA,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAA;IACxB,SAAA;IACF,KAAA;IACI,SAAA;IACH,QAAA,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAA;IACzB,KAAA;IACH;;;;;;;;;;;"}